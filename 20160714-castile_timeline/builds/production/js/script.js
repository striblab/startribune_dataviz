!function t(s,a,e){function i(n,l){if(!a[n]){if(!s[n]){var r="function"==typeof require&&require;if(!l&&r)return r(n,!0);if(o)return o(n,!0);throw new Error("Cannot find module '"+n+"'")}var p=a[n]={exports:{}};s[n][0].call(p.exports,function(t){var a=s[n][1][t];return i(a||t)},p,p.exports,t,s,a,e)}return a[n].exports}for(var o="function"==typeof require&&require,n=0;n<e.length;n++)i(e[n]);return i}({1:[function(t,s,a){d3.csv("./data/citations.csv",function(t){return{filed:d3.time.format("%x")(new Date(t.OffenseDateraw)),level:t.StatLevel,charge:t.StatDescr,disposition:t.DispCode,type:t.type,year:t.year,fine:+t.fine}},function(t,s){var a,e=s,i=[],o=[],n=[],l=[],r=[],p=[],c=[],u=[],d=[],v=[];i[0]="axis",o[0]="Everything",n[0]="Insurance",l[0]="License",r[0]="Speeding",p[0]="Other",c[0]="Parking",d[0]="Marijuana",u[0]="Seatbelt",v[0]="Fine";for(var x=0,y=0,f=0,m=0,g=0,S=0,h=0,C=0,b=0;b<e.length;b++)i[b+1]=d3.time.format("%m-%d-%Y")(new Date(e[b].filed)),o[b+1]=null,n[b+1]=null,l[b+1]=null,r[b+1]=null,p[b+1]=null,c[b+1]=null,u[b+1]=null,d[b+1]=null,v[b+1]=null,"reinstatement"!=e[b].type&&"suspended"!=e[b].type&&x++,console.log(e[b].fine),0!=e[b].fine&&(v[b+1]=e[b].fine),"insurance"==e[b].type&&(y++,"DISMISS"==e[b].disposition?n[b+1]=30:"CONV"==e[b].disposition&&(n[b+1]=10)),"license"==e[b].type&&(f++,"DISMISS"==e[b].disposition?l[b+1]=30:"CONV"!=e[b].disposition&&"FTA"!=e[b].disposition||(l[b+1]=10)),"speeding"==e[b].type&&(m++,"DISMISS"==e[b].disposition?r[b+1]=30:"CONV"==e[b].disposition&&(r[b+1]=10)),"other"==e[b].type&&(g++,"DISMISS"==e[b].disposition?p[b+1]=30:"CONV"==e[b].disposition&&(p[b+1]=10)),"parking"==e[b].type&&(S++,"DISMISS"==e[b].disposition?c[b+1]=30:"CONV"==e[b].disposition&&(c[b+1]=10)),"seatbelt"==e[b].type&&(h++,"DISMISS"==e[b].disposition?u[b+1]=30:"CONV"==e[b].disposition&&(u[b+1]=10)),"marijuana"==e[b].type&&(C++,"DISMISS"==e[b].disposition?d[b+1]=30:"CONV"==e[b].disposition&&(d[b+1]=10));var I={top:20,right:80,bottom:20,left:80};a=c3.generate({bindto:"#chart",padding:I,point:{r:4},data:{xs:{Everything:"axis",Insurance:"axis",License:"axis",Speeding:"axis",Other:"axis",Parking:"axis",Marijuana:"axis",Seatbelt:"axis"},columns:[i,o,n,l,r,p,u,c,d],type:"scatter"},color:{pattern:["#000","#ca7a68","#76909f","#b1ae68","#a17a94","#6f9a7c","#cf995a","#9c8f68"]},legend:{show:!1},grid:{x:{lines:[{value:"04-04-2003",text:"",position:"start",class:"reinstate",opacity:.5},{value:"06-13-2003",text:"",position:"start",class:"reinstate",opacity:.5},{value:"03-11-2004",text:"",position:"start",class:"reinstate",opacity:.5},{value:"03-01-2003",text:"",position:"start",class:"reinstate",opacity:.5},{value:"05-19-2006",text:"",position:"start",class:"reinstate",opacity:.5},{value:"05-09-2007",text:"",position:"start",class:"reinstate",opacity:.5},{value:"09-30-2013",text:"",position:"start",class:"reinstate",opacity:.5},{value:"01-28-2008",text:"",position:"start",class:"reinstate",opacity:.5},{value:"08-26-2008",text:"",position:"start",class:"reinstate",opacity:.5},{value:"10-07-2008",text:"",position:"start",class:"reinstate",opacity:.5},{value:"11-05-2008",text:"",position:"start",class:"reinstate",opacity:.5},{value:"03-20-2009",text:"",position:"start",class:"reinstate",opacity:.5},{value:"06-08-2009",text:"",position:"start",class:"reinstate",opacity:.5},{value:"11-06-2009",text:"",position:"start",class:"reinstate",opacity:.5},{value:"02-11-2010",text:"",position:"start",class:"reinstate",opacity:.5},{value:"02-05-2003",text:"",position:"start",class:"reinstate",opacity:.5},{value:"02-19-2003",text:"",position:"start",class:"reinstate",opacity:.5},{value:"12-24-2002",text:"",position:"start",class:"suspend",opacity:.5},{value:"01-02-2003",text:"",position:"start",class:"suspend",opacity:.5},{value:"06-12-2003",text:"",position:"start",class:"suspend",opacity:.5},{value:"12-02-2003",text:"",position:"start",class:"suspend",opacity:.5},{value:"11-23-2005",text:"",position:"start",class:"suspend",opacity:.5},{value:"07-14-2006",text:"",position:"start",class:"suspend",opacity:.5},{value:"08-22-2006",text:"",position:"start",class:"suspend",opacity:.5},{value:"09-14-2006",text:"",position:"start",class:"suspend",opacity:.5},{value:"06-13-2007",text:"",position:"start",class:"suspend",opacity:.5},{value:"08-24-2007",text:"",position:"start",class:"suspend",opacity:.5},{value:"09-04-2007",text:"",position:"start",class:"suspend",opacity:.5},{value:"09-13-2007",text:"",position:"start",class:"suspend",opacity:.5},{value:"11-19-2007",text:"",position:"start",class:"suspend",opacity:.5},{value:"12-18-2007",text:"",position:"start",class:"suspend",opacity:.5},{value:"12-19-2007",text:"",position:"start",class:"suspend",opacity:.5},{value:"04-06-2011",text:"",position:"start",class:"suspend",opacity:.5},{value:"04-04-2011",text:"",position:"start",class:"suspend",opacity:.5},{value:"10-10-2011",text:"",position:"start",class:"suspend",opacity:.5},{value:"12-09-2011",text:"",position:"start",class:"suspend",opacity:.5},{value:"02-17-2012",text:"",position:"start",class:"suspend",opacity:.5},{value:"05-03-2012",text:"",position:"start",class:"suspend",opacity:.5},{value:"06-01-2012",text:"",position:"start",class:"suspend",opacity:.5},{value:"07-26-2012",text:"",position:"start",class:"suspend",opacity:.5},{value:"09-23-2013",text:"",position:"start",class:"suspend",opacity:.5},{value:"01-25-2008",text:"",position:"start",class:"suspend",opacity:.5},{value:"03-03-2008",text:"",position:"start",class:"suspend",opacity:.5},{value:"05-07-2008",text:"",position:"start",class:"suspend",opacity:.5},{value:"08-05-2008",text:"",position:"start",class:"suspend",opacity:.5},{value:"10-03-2008",text:"",position:"start",class:"suspend",opacity:.5},{value:"11-03-2008",text:"",position:"start",class:"suspend",opacity:.5},{value:"12-03-2008",text:"",position:"start",class:"suspend",opacity:.5},{value:"12-08-2008",text:"",position:"start",class:"suspend",opacity:.5},{value:"06-04-2009",text:"",position:"start",class:"suspend",opacity:.5},{value:"11-05-2009",text:"",position:"start",class:"suspend",opacity:.5},{value:"02-10-2010",text:"",position:"start",class:"suspend",opacity:.5},{value:"11-04-2010",text:"",position:"start",class:"suspend",opacity:.5},{value:"12-30-2010",text:"",position:"start",class:"suspend",opacity:.5}]}},axis:{y:{min:0,padding:{bottom:0},tick:{format:function(t){switch(t){case 30:return"Dismissed";case 10:return"Convicted"}},values:[10,30]}},x:{type:"categories",categories:["12-02-2002","03-21-2006","02-13-2008","08-10-2011"],tick:{count:4,multiline:!1}}},tooltip:{contents:function(t,s,a,i){var o,n,l,r,p,c,u=this,d=u.config,v=d.tooltip_format_title||s,x=d.tooltip_format_name||function(t){return t},y=d.tooltip_format_value||a;for(n=0;n<t.length;n++)if(t[n]&&(t[n].value||0===t[n].value)){o||(l=v?v(t[n].x):t[n].x,o="<table class='"+u.CLASS.tooltip+" fixtip'>"+(l||0===l?"<tr><th colspan='2'>"+l+"</th></tr>":""));var f="";p=x(t[n].name),r=y(t[n].value,t[n].ratio,t[n].id,t[n].index),c=u.levelColor?u.levelColor(t[n].value):i(t[n].id);for(var m=0;m<e.length;m++)if(d3.time.format("%m-%d-%Y")(new Date(e[m].filed))==l&&String(p).toLowerCase()==String(e[m].type).toLowerCase()){f=e[m].charge;break}o+="<tr class='"+u.CLASS.tooltipName+"-"+t[n].id+"'>",o+="<td class='name'><span style='background-color:"+c+"'></span>"+p+"</td>",o+="<td class='value'>"+r+"</td>",o+="</tr><tr>",o+="<tr class='value'><td style='width:100%' colspan='2'>"+f+"</td></tr>"}return o+"</table>"}}}),chartF=c3.generate({bindto:"#chartF",padding:I,point:{r:4},data:{xs:{Fine:"axis"},columns:[i,v],type:"scatter"},color:{pattern:["#000"]},legend:{show:!1},axis:{y:{min:0,padding:{bottom:0},tick:{count:4,format:d3.format("$"),values:[100,250,400]}},x:{type:"categories",categories:["12-02-2002","03-21-2006","02-13-2008","08-10-2011"],tick:{count:4,multiline:!1}}},tooltip:{contents:function(t,s,a,e){var i,o,n,l,r,p,c=this,u=c.config,d=u.tooltip_format_title||s,v=u.tooltip_format_name||function(t){return t},x=u.tooltip_format_value||a;for(o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)){i||(n=d?d(t[o].x):t[o].x,i="<table class='"+c.CLASS.tooltip+" fixtip'>"+(n||0===n?"<tr><th colspan='2'>"+n+"</th></tr>":""));r=v(t[o].name),l=x(t[o].value,t[o].ratio,t[o].id,t[o].index),p=c.levelColor?c.levelColor(t[o].value):e(t[o].id),i+="<tr class='"+c.CLASS.tooltipName+"-"+t[o].id+"'>",i+="<td class='name'><span style='background-color:"+p+"'></span>"+r+"</td>",i+="<td class='value'>"+l+"</td>",i+="</tr><tr>",i+="<tr class='value'><td style='width:100%' colspan='2'></td></tr>"}return i+"</table>"}}}),function(){d3.select("#pct").selectAll(".stat").data(["All","Insurance","License","Speeding","Other","Seatbelt","Parking","Marijuana"]).enter().append("div").attr("data-id",function(t){return t}).attr("class",function(t){return"All"==t?"stat clicked":"stat"}).html(function(t){if("All"==t)var s=x;if("Insurance"==t)var s=y;if("License"==t)var s=f;if("Speeding"==t)var s=m;if("Other"==t)var s=g;if("Seatbelt"==t)var s=h;if("Parking"==t)var s=S;if("Marijuana"==t)var s=C;return"<div class='bigNum'>"+s+"</div><div class='label'>"+t+"</div>"}).each(function(t){d3.select(this).style("color",a.color(t))}).on("mouseover",function(t){}).on("mouseout",function(t){}).on("click",function(t){"All"==t?a.revert():a.focus(t)}),$(".stat").click(function(){$(".stat").removeClass("clicked"),$(this).addClass("clicked")})}()})},{}]},{},[1]);