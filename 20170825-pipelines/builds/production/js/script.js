!function e(o,t,n){function a(r,l){if(!t[r]){if(!o[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(i)return i(r,!0);throw new Error("Cannot find module '"+r+"'")}var p=t[r]={exports:{}};o[r][0].call(p.exports,function(e){var t=o[r][1][e];return a(t||e)},p,p.exports,e,o,t,n)}return t[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}({1:[function(e,o,t){$.urlParam=function(e){var o=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null!=o?o[1]||0:null};var n=$.urlParam("chart");null!=n&&($(".slide").hide(),$("#"+n).show()),d3.json("./shapefiles/pipelines.json",function(e,o){d3.json("./shapefiles/enpipelines.json",function(e,t){d3.json("./shapefiles/spills.geojson",function(e,n){d3.json("./shapefiles/enspills.geojson",function(e,a){d3.json("./shapefiles/petro_pipelines.geojson",function(e,i){d3.json("./shapefiles/enpetro.json",function(e,r){d3.json("./shapefiles/hgl_pipelines.geojson",function(e,l){d3.json("./shapefiles/enhgl.geojson",function(e,s){d3.json("./shapefiles/natgas_pipelines.geojson",function(e,p){d3.json("./shapefiles/ennatgas.json",function(e,d){mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var c=new mapboxgl.Map({container:"map",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-94.6859,46.729553],zoom:5,minZoom:3});c.addControl(new mapboxgl.NavigationControl),c.scrollZoom.disable(),c.on("load",function(){c.addSource("pipelines",{type:"geojson",data:o}),c.addSource("enpipelines",{type:"geojson",data:t}),c.addSource("spills",{type:"geojson",data:n}),c.addSource("enspills",{type:"geojson",data:a}),c.addSource("petro",{type:"geojson",data:i}),c.addSource("enpetro",{type:"geojson",data:r}),c.addSource("hgl",{type:"geojson",data:l}),c.addSource("enhgl",{type:"geojson",data:s}),c.addSource("natgas",{type:"geojson",data:p}),c.addSource("ennatgas",{type:"geojson",data:d}),c.addLayer({id:"pipelines-layer-e",interactive:!0,source:"enpipelines",layout:{},type:"line",paint:{"line-color":"rgba(183, 12, 12, .4)","line-width":2}},"place-neighbourhood"),c.addLayer({id:"natgas-layer-e",interactive:!0,source:"ennatgas",layout:{},type:"line",paint:{"line-color":"rgba(183, 12, 12, .4)","line-width":2}},"place-neighbourhood"),c.addLayer({id:"petro-layer-e",interactive:!0,source:"enpetro",layout:{},type:"line",paint:{"line-color":"rgba(183, 12, 12, .4)","line-width":2}},"place-neighbourhood"),c.addLayer({id:"hgl-layer-e",interactive:!0,source:"enhgl",layout:{},type:"line",paint:{"line-color":"rgba(183, 12, 12, .4)","line-width":2}},"place-neighbourhood"),c.addLayer({id:"spills-layer-e",type:"circle",source:"enspills",paint:{"circle-radius":5,"circle-color":"rgba(88, 88, 88, .6)","circle-stroke-color":"#ffffff","circle-stroke-width":.5}});var e=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});c.on("mousemove",function(o){var t=c.queryRenderedFeatures(o.point,{layers:["spills-layer-e"]});if(c.getCanvas().style.cursor=t.length?"pointer":"",!t.length)return void e.remove();var n=t[0];e.setLngLat(o.lngLat).setHTML("<div class='name'>"+String(n.properties.OPERATOR).toUpperCase()+"</div><div class='date'>"+n.properties.DATE+"</div><div class=''>"+String(n.properties.CITY).toUpperCase()+", MN</div>").addTo(c)})}),function(){var e={top:20,right:60,bottom:20,left:40};c3.generate({bindto:"#chartTrend",padding:e,data:{x:"x",columns:[["x",2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],["Spills",14,18,22,19,10,23,12,21,24,14,21,27,23,26,7]],type:"bar"},bar:{width:{ratio:.2}},legend:{show:!1},point:{show:!1},color:{pattern:["#333333"]},axis:{y:{min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format(".0f")}},x:{tick:{count:5,multiline:!1,format:d3.format(".0f")}}}})}(),function(){var e={top:20,right:60,bottom:20,left:40};c3.generate({bindto:"#chartMN",padding:e,data:{x:"x",columns:[["x",2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],["Spills",5,11,6,1,6,8,32,46,15,3,3,6,8,10,4]],type:"bar"},bar:{width:{ratio:.2}},legend:{show:!1},point:{show:!1},color:{pattern:["#333333"]},axis:{y:{min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format(".0f")}},x:{tick:{count:5,multiline:!1,format:d3.format(".0f")}}}})}(),function(){var e={top:20,right:60,bottom:20,left:40};c3.generate({bindto:"#chartMNSpills",padding:e,data:{x:"x",columns:[["x",1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],["Spills",8,8,7,12,8,13,23,14,9,16,10,13,13,19,13,13,17,16,14,4]],type:"bar"},bar:{width:{ratio:.2}},legend:{show:!1},point:{show:!1},color:{pattern:["#333333"]},axis:{y:{min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format(".0f")}},x:{tick:{count:5,multiline:!1,format:d3.format(".0f")}}}})}(),function(){var e={top:20,right:60,bottom:20,left:40};c3.generate({bindto:"#chartNational",padding:e,data:{x:"x",columns:[["x",1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],["Spills",346,389,339,380,341,642,672,671,719,639,611,659,627,586,590,573,619,707,714,635]],type:"bar"},bar:{width:{ratio:.2}},legend:{show:!1},point:{show:!1},color:{pattern:["#333333"]},axis:{y:{min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format(".0f")}},x:{tick:{count:5,multiline:!1,format:d3.format(".0f")}}}})}()})})})})})})})})})})},{}]},{},[1]);