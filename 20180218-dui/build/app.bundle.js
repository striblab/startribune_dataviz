!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";var n=o(1);(0,function(e){return e&&e.__esModule?e:{default:e}}(n).default)({}),$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null!=t?t[1]||0:null};var r=$.urlParam("chart");null!=r&&($(".slide").hide(),$("#"+r).show()),function(){var e={top:20,right:60,bottom:20,left:120};c3.generate({bindto:"#chartRank",padding:e,data:{x:"x",columns:[["x","Edina PD","Fridley PD","Olmsted SO","Winona PD","Coon Rapids PD","Inver Grove Heights PD","Bloomington PD","Richfield PD","Moorhead PD","St. Cloud PD","Beltrami SO","Stearns SO","St Louis Park PD","Eden Prairie PD","Prior Lake PD","Apple Valley PD","Duluth PD","Shakopee PD","Minnetonka PD","Anoka SO","Woodbury PD","Otter Tail SO","Carver SO","Brooklyn Center PD","Washington SO","Oakdale PD","Savage PD","Owatonna PD","Sherburne SO","Blaine PD","Maplewood PD","Pine SO","Maple Grove PD","Itasca SO","Cottage Grove PD","Chisago SO","St. Louis SO (Hibbing)","Wright SO","Crow Wing SO","Ramsey PD","Ramsey SO","Plymouth PD","Lakeville PD","Eagan PD","Rochester PD","Burnsville PD","Brooklyn Park PD","St Paul PD","Minneapolis PD","Roseville PD"],["DWI Arrest Rate",94.1139253,52.85678329,51.31070921,50.36850487,48.25264508,47.36226426,45.6767737,45.04257072,42.11071118,41.87642001,41.81620625,41.43368599,41.41890506,39.19608976,37.25695657,35.81939281,34.84725287,34.54742868,33.61828835,32.17293858,32.15899873,32.01442904,30.1301623,30.10390703,29.81025771,29.77561944,28.60080982,27.5621118,26.62127957,26.61807811,26.29592657,25.60110707,25.077741,24.8939378,24.88662759,24.8765455,23.21624783,22.91095396,22.10781345,21.69527652,21.29416927,20.6504234,20.46085643,19.04105071,18.44562512,17.01865569,16.04010025,15.26717557,13.67723173,10.01279413]],type:"bar"},legend:{show:!1},color:{pattern:["#3580A3"]},tooltip:{},axis:{rotated:!0,y:{max:100,min:0,padding:{bottom:0,top:0},tick:{count:3,values:[0,20,40,60,80,100],format:d3.format(".0f")}},x:{type:"category",tick:{multiline:!1}}}})}(),function(){var e={top:20,right:60,bottom:20,left:40};c3.generate({bindto:"#chartTrend",padding:e,data:{x:"x",columns:[["x","2013","2014","2015","2016","2017"],["DWI Arrests",157,187,327,387,476]],type:"bar",labels:{format:{"DWI Arrests":d3.format(".0f")}}},legend:{show:!1},tooltip:{show:!1},color:{pattern:["#3580A3"]},axis:{y:{max:600,min:0,padding:{bottom:0,top:0},tick:{count:5,values:[0,100,200,300,400,500,600],format:d3.format(".0f")}},x:{type:"category",tick:{multiline:!1}}},grid:{x:{lines:[{value:"2015",text:"DWI grant begins",position:"end",class:"powerline"}]}}})}(),function(){var e={top:20,right:60,bottom:20,left:120};c3.generate({bindto:"#chartSize",padding:e,data:{x:"x",columns:[["x","Edina PD","Fridley PD","Olmsted SO","Winona PD","Coon Rapids PD","Inver Grove Heights PD","Bloomington PD","Richfield PD","Moorhead PD","St. Cloud PD","Beltrami SO","Stearns SO","St Louis Park PD","Eden Prairie PD","Prior Lake PD","Apple Valley PD","Duluth PD","Shakopee PD","Minnetonka PD","Anoka SO","Woodbury PD","Otter Tail SO","Carver SO","Brooklyn Center PD","Washington SO","Oakdale PD","Savage PD","Owatonna PD","Sherburne SO","Blaine PD","Maplewood PD","Pine SO","Maple Grove PD","Itasca SO","Cottage Grove PD","Chisago SO","St. Louis SO (Hibbing)","Wright SO","Crow Wing SO","Ramsey PD","Ramsey SO","Plymouth PD","Lakeville PD","Eagan PD","Rochester PD","Burnsville PD","Brooklyn Park PD","St Paul PD","Minneapolis PD","Roseville PD"],["DWI Arrest Rate",94.1139253,52.85678329,51.31070921,50.36850487,48.25264508,47.36226426,45.6767737,45.04257072,42.11071118,41.87642001,41.81620625,41.43368599,41.41890506,39.19608976,37.25695657,35.81939281,34.84725287,34.54742868,33.61828835,32.17293858,32.15899873,32.01442904,30.1301623,30.10390703,29.81025771,29.77561944,28.60080982,27.5621118,26.62127957,26.61807811,26.29592657,25.60110707,25.077741,24.8939378,24.88662759,24.8765455,23.21624783,22.91095396,22.10781345,21.69527652,21.29416927,20.6504234,20.46085643,19.04105071,18.44562512,17.01865569,16.04010025,15.26717557,13.67723173,10.01279413]],type:"bar"},legend:{show:!1},color:{pattern:["#3580A3"]},tooltip:{},axis:{rotated:!0,y:{max:100,min:0,padding:{bottom:0,top:0},tick:{count:3,values:[0,20,40,60,80,100],format:d3.format(".0f")}},x:{type:"category",tick:{multiline:!1}}}})}(),d3.json("./shapefiles/mn_places.json",function(e,t){d3.json("./data/stops.geojson",function(e,o){mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var n=new mapboxgl.Map({container:"map",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-93.349949,44.889687],zoom:11,minZoom:2,interactive:!1});n.scrollZoom.disable(),n.on("load",function(){n.addSource("mncities",{type:"geojson",data:t}),n.addLayer({id:"mncities-layer",interactive:!0,source:"mncities",layout:{},type:"fill",paint:{"fill-antialias":!0,"fill-opacity":.1,"fill-outline-color":"rgba(0, 0, 0, 1)"},filter:["==","NAME","Edina"]},"place-neighbourhood"),n.addSource("stops",{type:"geojson",data:o}),n.addLayer({id:"stops-layer",type:"circle",source:"stops",paint:{"circle-radius":{property:"stops",type:"interval",stops:[[1,2],[5,5],[20,15],[100,20]]},"circle-color":"rgba(53,128,163, .6)","circle-stroke-color":"#000000","circle-stroke-width":.5}})})})})},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=o(2),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(){function e(t){n(this,e),this.options=t||{},this.options.pym=void 0===this.options.pym||this.options.pym,this.options.useView=void 0===this.options.useView||this.options.useView,this.options.views=this.options.views||{develop:/localhost.*|127\.0\.0\.1.*/i,staging:/staging/i},this.parseQuery(),this.setView(),this.options.pym&&(this.pym=_.isUndefined(window.pym)?void 0:new pym.Child({polling:500}))}return r(e,[{key:"setView",value:function(){if(this.options.useView){var e=void 0;if(_.find(this.options.views,function(t,o){return e=o,window.location.href.match(t)?o:void 0}),e){var t=document.createElement("div"),o=document.getElementsByTagName("body")[0];t.className="site-view site-view-"+e,o.insertBefore(t,o.childNodes[0])}}}},{key:"parseQuery",value:function(){this.query=a.default.parse(document.location.search),this.query.pym&&"true"===this.query.pym&&(this.options.pym=!0)}},{key:"deepClone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"isEmbedded",value:function(){if(!_.isUndefined(this.embedded))return this.embedded;try{this.embedded=window.self!==window.top}catch(e){this.embedded=!0}return this.embedded}},{key:"hasLocalStorage",value:function(){if(!_.isUndefined(this.localStorage))return this.localStorage;try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),this.localStorage=!0}catch(e){this.localStorage=!1}return this.localStorage}},{key:"hasGeolocate",value:function(){return window.navigator&&"geolocation"in window.navigator}},{key:"geolocate",value:function(e){this.hasGeolocate()?window.navigator.geolocation.getCurrentPosition(function(t){e(null,{lat:t.coords.latitude,lng:t.coords.longitude})},function(){e("Unable to find your position.")}):e("Geolocation not available")}},{key:"goTo",value:function(e){var t=_.isElement(e)?e:e[0]&&_.isElement(e[0])?e[0]:document.getElementById(e);t&&(this.isEmbedded()&&this.pym?this.pym.scrollParentToChildEl(t):t.scrollIntoView({behavior:"smooth"}))}},{key:"gaPageUpdate",value:function(e){e=e||document.location.pathname+document.location.search+document.location.hash,window.ga&&(window.ga("set","page",e),window.ga("send","pageview"))}}]),e}();t.default=function(e){return new l(e)}},function(e,t,o){"use strict";function n(e){switch(e.arrayFormat){case"index":return function(t,o,n){return null===o?[i(t,e),"[",n,"]"].join(""):[i(t,e),"[",i(n,e),"]=",i(o,e)].join("")};case"bracket":return function(t,o){return null===o?i(t,e):[i(t,e),"[]=",i(o,e)].join("")};default:return function(t,o){return null===o?i(t,e):[i(t,e),"=",i(o,e)].join("")}}}function r(e){var t;switch(e.arrayFormat){case"index":return function(e,o,n){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(n[e]=o);void 0===n[e]&&(n[e]={}),n[e][t[1]]=o};case"bracket":return function(e,o,n){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===n[e]?void(n[e]=[o]):void(n[e]=[].concat(n[e],o)):void(n[e]=o)};default:return function(e,t,o){if(void 0===o[e])return void(o[e]=t);o[e]=[].concat(o[e],t)}}}function i(e,t){return t.encode?t.strict?l(e):encodeURIComponent(e):e}function a(e){return Array.isArray(e)?e.sort():"object"==typeof e?a(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var l=o(3),s=o(4);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=s({arrayFormat:"none"},t);var o=r(t),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),o(decodeURIComponent(r),i,n)}),Object.keys(n).sort().reduce(function(e,t){var o=n[t];return Boolean(o)&&"object"==typeof o&&!Array.isArray(o)?e[t]=a(o):e[t]=o,e},Object.create(null))):n},t.stringify=function(e,t){t=s({encode:!0,strict:!0,arrayFormat:"none"},t);var o=n(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return i(n,t);if(Array.isArray(r)){var a=[];return r.slice().forEach(function(e){void 0!==e&&a.push(o(n,e,a.length))}),a.join("&")}return i(n,t)+"="+i(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,o){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t,o){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},o=0;o<10;o++)t["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var o,l,s=n(e),c=1;c<arguments.length;c++){o=Object(arguments[c]);for(var u in o)i.call(o,u)&&(s[u]=o[u]);if(r){l=r(o);for(var d=0;d<l.length;d++)a.call(o,l[d])&&(s[l[d]]=o[l[d]])}}return s}}]);
//# sourceMappingURL=app.bundle.js.map