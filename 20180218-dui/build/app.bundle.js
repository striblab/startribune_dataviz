!function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";var n=o(1);(0,function(t){return t&&t.__esModule?t:{default:t}}(n).default)({}),$.urlParam=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null!=e?e[1]||0:null};var r=$.urlParam("chart");null!=r&&($(".slide").hide(),$("#"+r).show()),"all"==r&&$(".slide").show(),function(){var t={top:20,right:60,bottom:20,left:120};c3.generate({bindto:"#chartRank",padding:t,data:{x:"x",columns:[["x","Edina PD","Fridley PD","Olmsted SO","Winona PD","Coon Rapids PD","Inver Grove Heights PD","Bloomington PD","Richfield PD","Moorhead PD","St. Cloud PD","Beltrami SO","Stearns SO","St Louis Park PD","Eden Prairie PD","Prior Lake PD","Apple Valley PD","Duluth PD","Shakopee PD","Minnetonka PD","Anoka SO","Woodbury PD","Otter Tail SO","Carver SO","Brooklyn Center PD","Washington SO"],["DWI Arrest Rate",94.1139253,52.85678329,51.31070921,50.36850487,48.25264508,47.36226426,45.6767737,45.04257072,42.11071118,41.87642001,41.81620625,41.43368599,41.41890506,39.19608976,37.25695657,35.81939281,34.84725287,34.54742868,33.61828835,32.17293858,32.15899873,32.01442904,30.1301623,30.10390703,29.81025771]],type:"bar"},legend:{show:!1},color:{pattern:["#3580A3"]},tooltip:{},axis:{rotated:!0,y:{max:100,min:0,padding:{bottom:0,top:0},tick:{count:3,values:[0,20,40,60,80,100],format:d3.format(".0f")}},x:{type:"category",tick:{multiline:!1}}}})}(),function(){var t={top:20,right:60,bottom:20,left:40};c3.generate({bindto:"#chartTrend",padding:t,data:{x:"x",columns:[["x","2013","2014","2015","2016","2017"],["DWI Arrests",157,187,327,387,476]],type:"bar",labels:{format:{"DWI Arrests":d3.format(".0f")}}},legend:{show:!1},tooltip:{show:!1},color:{pattern:["#3580A3"]},axis:{y:{max:600,min:0,padding:{bottom:0,top:0},tick:{count:5,values:[0,100,200,300,400,500,600],format:d3.format(".0f")}},x:{type:"category",tick:{multiline:!1}}},grid:{x:{lines:[{value:"2015",text:"DWI grant begins",position:"end",class:"powerline"}]}}})}(),function(){var t={top:20,right:60,bottom:20,left:120};c3.generate({bindto:"#chartSize",padding:t,data:{x:"x",columns:[["x","Minneapolis PD","St Paul PD","Rochester PD","Ramsey SO","Wright SO","St. Louis SO (Hibbing)","Anoka SO","Duluth PD","St. Cloud PD","Bloomington PD","Edina PD"],["DWI Arrest Rate",13.67723173,15.26717557,18.44562512,21.29416927,22.91095396,23.21624783,32.17293858,34.84725287,41.87642001,45.6767737,94.1139253]],type:"bar"},legend:{show:!1},color:{pattern:["#3580A3"]},tooltip:{},axis:{rotated:!0,y:{max:100,min:0,padding:{bottom:0,top:0},tick:{count:3,values:[0,20,40,60,80,100],format:d3.format(".0f")}},x:{type:"category",tick:{multiline:!1}}}})}(),d3.json("./shapefiles/mn_places.json",function(t,e){d3.json("./data/stops.geojson",function(t,o){mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var n=new mapboxgl.Map({container:"map",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-93.349949,44.889687],zoom:11,minZoom:2,interactive:!1});n.scrollZoom.disable(),n.on("load",function(){n.addSource("mncities",{type:"geojson",data:e}),n.addLayer({id:"mncities-layer",interactive:!0,source:"mncities",layout:{},type:"fill",paint:{"fill-antialias":!0,"fill-opacity":.1,"fill-outline-color":"rgba(0, 0, 0, 1)"},filter:["==","NAME","Edina"]},"place-neighbourhood"),n.addSource("stops",{type:"geojson",data:o}),n.addLayer({id:"stops-layer",type:"circle",source:"stops",paint:{"circle-radius":{property:"stops",type:"interval",stops:[[1,2],[5,5],[20,15],[100,20]]},"circle-color":"rgba(53,128,163, .6)","circle-stroke-color":"#000000","circle-stroke-width":.5}})})})})},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),i=o(2),a=function(t){return t&&t.__esModule?t:{default:t}}(i),c=function(){function t(e){n(this,t),this.options=e||{},this.options.pym=void 0===this.options.pym||this.options.pym,this.options.useView=void 0===this.options.useView||this.options.useView,this.options.views=this.options.views||{develop:/localhost.*|127\.0\.0\.1.*/i,staging:/staging/i},this.parseQuery(),this.setView(),this.options.pym&&(this.pym=_.isUndefined(window.pym)?void 0:new pym.Child({polling:500}))}return r(t,[{key:"setView",value:function(){if(this.options.useView){var t=void 0;if(_.find(this.options.views,function(e,o){return t=o,window.location.href.match(e)?o:void 0}),t){var e=document.createElement("div"),o=document.getElementsByTagName("body")[0];e.className="site-view site-view-"+t,o.insertBefore(e,o.childNodes[0])}}}},{key:"parseQuery",value:function(){this.query=a.default.parse(document.location.search),this.query.pym&&"true"===this.query.pym&&(this.options.pym=!0)}},{key:"deepClone",value:function(t){return JSON.parse(JSON.stringify(t))}},{key:"isEmbedded",value:function(){if(!_.isUndefined(this.embedded))return this.embedded;try{this.embedded=window.self!==window.top}catch(t){this.embedded=!0}return this.embedded}},{key:"hasLocalStorage",value:function(){if(!_.isUndefined(this.localStorage))return this.localStorage;try{window.localStorage.setItem("test","test"),window.localStorage.removeItem("test"),this.localStorage=!0}catch(t){this.localStorage=!1}return this.localStorage}},{key:"hasGeolocate",value:function(){return window.navigator&&"geolocation"in window.navigator}},{key:"geolocate",value:function(t){this.hasGeolocate()?window.navigator.geolocation.getCurrentPosition(function(e){t(null,{lat:e.coords.latitude,lng:e.coords.longitude})},function(){t("Unable to find your position.")}):t("Geolocation not available")}},{key:"goTo",value:function(t){var e=_.isElement(t)?t:t[0]&&_.isElement(t[0])?t[0]:document.getElementById(t);e&&(this.isEmbedded()&&this.pym?this.pym.scrollParentToChildEl(e):e.scrollIntoView({behavior:"smooth"}))}},{key:"gaPageUpdate",value:function(t){t=t||document.location.pathname+document.location.search+document.location.hash,window.ga&&(window.ga("set","page",t),window.ga("send","pageview"))}}]),t}();e.default=function(t){return new c(t)}},function(t,e,o){"use strict";function n(t){switch(t.arrayFormat){case"index":return function(e,o,n){return null===o?[i(e,t),"[",n,"]"].join(""):[i(e,t),"[",i(n,t),"]=",i(o,t)].join("")};case"bracket":return function(e,o){return null===o?i(e,t):[i(e,t),"[]=",i(o,t)].join("")};default:return function(e,o){return null===o?i(e,t):[i(e,t),"=",i(o,t)].join("")}}}function r(t){var e;switch(t.arrayFormat){case"index":return function(t,o,n){if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e)return void(n[t]=o);void 0===n[t]&&(n[t]={}),n[t][e[1]]=o};case"bracket":return function(t,o,n){return e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0===n[t]?void(n[t]=[o]):void(n[t]=[].concat(n[t],o)):void(n[t]=o)};default:return function(t,e,o){if(void 0===o[t])return void(o[t]=e);o[t]=[].concat(o[t],e)}}}function i(t,e){return e.encode?e.strict?c(t):encodeURIComponent(t):t}function a(t){return Array.isArray(t)?t.sort():"object"==typeof t?a(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}var c=o(3),s=o(4);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t,e){e=s({arrayFormat:"none"},e);var o=r(e),n=Object.create(null);return"string"!=typeof t?n:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),r=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),o(decodeURIComponent(r),i,n)}),Object.keys(n).sort().reduce(function(t,e){var o=n[e];return Boolean(o)&&"object"==typeof o&&!Array.isArray(o)?t[e]=a(o):t[e]=o,t},Object.create(null))):n},e.stringify=function(t,e){e=s({encode:!0,strict:!0,arrayFormat:"none"},e);var o=n(e);return t?Object.keys(t).sort().map(function(n){var r=t[n];if(void 0===r)return"";if(null===r)return i(n,e);if(Array.isArray(r)){var a=[];return r.slice().forEach(function(t){void 0!==t&&a.push(o(n,t,a.length))}),a.join("&")}return i(n,e)+"="+i(r,e)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e,o){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,o){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},o=0;o<10;o++)e["_"+String.fromCharCode(o)]=o;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var o,c,s=n(t),l=1;l<arguments.length;l++){o=Object(arguments[l]);for(var u in o)i.call(o,u)&&(s[u]=o[u]);if(r){c=r(o);for(var d=0;d<c.length;d++)a.call(o,c[d])&&(s[c[d]]=o[c[d]])}}return s}}]);
//# sourceMappingURL=app.bundle.js.map