!function e(t,i,o){function n(u,s){if(!i[u]){if(!t[u]){var r="function"==typeof require&&require;if(!s&&r)return r(u,!0);if(a)return a(u,!0);throw new Error("Cannot find module '"+u+"'")}var c=i[u]={exports:{}};t[u][0].call(c.exports,function(e){var i=t[u][1][e];return n(i||e)},c,c.exports,e,t,i,o)}return i[u].exports}for(var a="function"==typeof require&&require,u=0;u<o.length;u++)n(o[u]);return n}({1:[function(e,t,i){$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null!=t?t[1]||0:null};var o=$.urlParam("chart");null!=o&&($(".slide").hide(),$("#"+o).show()),d3.json("./data/invasion.geojson",function(e,t){d3.json("./data/invasion.json",function(e,i){d3.json("./shapefiles/waters.json",function(e,o){d3.json("./shapefiles/extent.json",function(e,n){d3.json("./shapefiles/species.json",function(e,a){d3.json("./data/lookup.json",function(e,u){var s=(i.waters,u.targets);mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var r=new mapboxgl.Map({container:"map",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-53.964844,35.380093],zoom:2,minZoom:2});r.addControl(new mapboxgl.NavigationControl),r.scrollZoom.disable(),r.on("load",function(){function e(e){if($(".trackDot").removeClass("selected"),$("#d"+e).addClass("selected"),$(".year").html(L[e]),index=e,0==e&&(u("waters"),u("species"),m(1986,2016),s("extent"),T(-53.964844,35.380093,2,0,0)),1==e&&(u("extent"),u("waters"),u("species"),m(1991,2016),T(-82.441406,41.827619,7,0,0),f(1986),f(1987),T(-82.441406,41.827619,6,0,0),setTimeout(function(){f(1988)},1e3),T(-82.441406,41.827619,5,0,0),setTimeout(function(){f(1989)},1500),setTimeout(function(){f(1990)},2e3)),2==e&&(u("extent"),u("waters"),u("species"),m(1992,2016),f(1991),T(-95.95459,46.489884,6,0,0)),3==e&&(u("extent"),u("species"),m(1994,2016),T(-95.95459,46.489884,6,0,0),f(1992),setTimeout(function(){f(1992)},200),setTimeout(function(){f(1993)},400),setTimeout(function(){f(1994)},800),setTimeout(function(){f(1995)},1e3),setTimeout(function(){f(1996)},1e3),setTimeout(function(){f(1997)},1e3),setTimeout(function(){f(1998)},1200),setTimeout(function(){f(1999)},1400),setTimeout(function(){f(2e3)},1600),setTimeout(function(){f(2001)},1800),setTimeout(function(){f(2002)},2e3),setTimeout(function(){f(2003)},2200),setTimeout(function(){f(2004)},2400),setTimeout(function(){f(2005)},2600),setTimeout(function(){f(2006)},2800),setTimeout(function(){f(2007)},3e3),setTimeout(function(){f(2008)},3200),setTimeout(function(){f(2009)},3400),setTimeout(function(){f(2010)},3600),setTimeout(function(){f(2011)},3800),setTimeout(function(){f(2012)},4e3),setTimeout(function(){f(2013)},4200),setTimeout(function(){f(2014)},4400),setTimeout(function(){f(2015)},4600),setTimeout(function(){f(2016)},4800),setTimeout(function(){s("waters")},5e3)),4==e&&(u("extent"),u("species"),s("waters"),f(1992),setTimeout(function(){f(1992)},200),setTimeout(function(){f(1993)},400),setTimeout(function(){f(1994)},800),setTimeout(function(){f(1995)},1e3),setTimeout(function(){f(1996)},1e3),setTimeout(function(){f(1997)},1e3),setTimeout(function(){f(1998)},1200),setTimeout(function(){f(1999)},1400),setTimeout(function(){f(2e3)},1600),setTimeout(function(){f(2001)},1800),setTimeout(function(){f(2002)},2e3),setTimeout(function(){f(2003)},2200),setTimeout(function(){f(2004)},2400),setTimeout(function(){f(2005)},2600),setTimeout(function(){f(2006)},2800),setTimeout(function(){f(2007)},3e3),setTimeout(function(){f(2008)},3200),setTimeout(function(){f(2009)},3400),setTimeout(function(){f(2010)},3600),setTimeout(function(){f(2011)},3800),setTimeout(function(){f(2012)},4e3),setTimeout(function(){f(2013)},4200),setTimeout(function(){f(2014)},4400),setTimeout(function(){f(2015)},4600),setTimeout(function(){f(2016)},4800),T(-93.660534,46.252983,9,0,0)),5==e&&(u("extent"),u("species"),s("waters"),f(1992),setTimeout(function(){f(1992)},200),setTimeout(function(){f(1993)},400),setTimeout(function(){f(1994)},800),setTimeout(function(){f(1995)},1e3),setTimeout(function(){f(1996)},1e3),setTimeout(function(){f(1997)},1e3),setTimeout(function(){f(1998)},1200),setTimeout(function(){f(1999)},1400),setTimeout(function(){f(2e3)},1600),setTimeout(function(){f(2001)},1800),setTimeout(function(){f(2002)},2e3),setTimeout(function(){f(2003)},2200),setTimeout(function(){f(2004)},2400),setTimeout(function(){f(2005)},2600),setTimeout(function(){f(2006)},2800),setTimeout(function(){f(2007)},3e3),setTimeout(function(){f(2008)},3200),setTimeout(function(){f(2009)},3400),setTimeout(function(){f(2010)},3600),setTimeout(function(){f(2011)},3800),setTimeout(function(){f(2012)},4e3),setTimeout(function(){f(2013)},4200),setTimeout(function(){f(2014)},4400),setTimeout(function(){f(2015)},4600),setTimeout(function(){f(2016)},4800),T(-93.634447,44.907342,8,0,0)),6==e&&(u("extent"),u("species"),s("waters"),f(1992),setTimeout(function(){f(1992)},200),setTimeout(function(){f(1993)},400),setTimeout(function(){f(1994)},800),setTimeout(function(){f(1995)},1e3),setTimeout(function(){f(1996)},1e3),setTimeout(function(){f(1997)},1e3),setTimeout(function(){f(1998)},1200),setTimeout(function(){f(1999)},1400),setTimeout(function(){f(2e3)},1600),setTimeout(function(){f(2001)},1800),setTimeout(function(){f(2002)},2e3),setTimeout(function(){f(2003)},2200),setTimeout(function(){f(2004)},2400),setTimeout(function(){f(2005)},2600),setTimeout(function(){f(2006)},2800),setTimeout(function(){f(2007)},3e3),setTimeout(function(){f(2008)},3200),setTimeout(function(){f(2009)},3400),setTimeout(function(){f(2010)},3600),setTimeout(function(){f(2011)},3800),setTimeout(function(){f(2012)},4e3),setTimeout(function(){f(2013)},4200),setTimeout(function(){f(2014)},4400),setTimeout(function(){f(2015)},4600),setTimeout(function(){f(2016)},4800),T(-94.21554,47.41095,8,0,0)),7==e&&(u("extent"),u("waters"),s("species"),f(1992),setTimeout(function(){f(1992)},200),setTimeout(function(){f(1993)},400),setTimeout(function(){f(1994)},800),setTimeout(function(){f(1995)},1e3),setTimeout(function(){f(1996)},1e3),setTimeout(function(){f(1997)},1e3),setTimeout(function(){f(1998)},1200),setTimeout(function(){f(1999)},1400),setTimeout(function(){f(2e3)},1600),setTimeout(function(){f(2001)},1800),setTimeout(function(){f(2002)},2e3),setTimeout(function(){f(2003)},2200),setTimeout(function(){f(2004)},2400),setTimeout(function(){f(2005)},2600),setTimeout(function(){f(2006)},2800),setTimeout(function(){f(2007)},3e3),setTimeout(function(){f(2008)},3200),setTimeout(function(){f(2009)},3400),setTimeout(function(){f(2010)},3600),setTimeout(function(){f(2011)},3800),setTimeout(function(){f(2012)},4e3),setTimeout(function(){f(2013)},4200),setTimeout(function(){f(2014)},4400),setTimeout(function(){f(2015)},4600),setTimeout(function(){f(2016)},4800),T(-94.203347,46.628522,6,0,0)),8==e){m(1986,2016),u("extent"),u("waters"),u("species");for(var t=800,i=1986;i<=2016;i++)2017!=i&&setTimeout(function(){f(i)},t),t+=200;T(-104.941406,40.371659,4,0,0)}if(9==e){u("extent"),s("waters"),T(-94.203347,46.628522,6,0,0);for(var t=800,i=1986;i<=2016;i++)2017!=i&&setTimeout(function(){f(i)},t),t+=200}}function i(e,t){r.addLayer({id:e+"-layer",interactive:!0,source:e,layout:{},type:"fill",paint:{"fill-antialias":!0,"fill-opacity":1,"fill-color":t,"fill-outline-color":"#333333"}},"place-neighbourhood")}function u(e){r.setLayoutProperty(e+"-layer","visibility","none")}function s(e){r.setLayoutProperty(e+"-layer","visibility","visible")}function c(e,t,i){function o(t){setTimeout(function(){requestAnimationFrame(o),c+=(l-c)/n,u-=.9/n,u>=0&&(r.setPaintProperty("invasion-layer-"+e,"circle-radius",c),r.setPaintProperty("invasion-layer-"+e,"circle-opacity",u)),u<=0&&(c=s,u=a)},2e3/n)}cap=e;var n=15,a=1,u=a,s=5,c=s,l=18;r.addLayer({id:"invasion-layer-"+e,type:"circle",source:"invasion",paint:{"circle-radius":s,"circle-radius-transition":{duration:0},"circle-opacity-transition":{duration:0},"circle-color":"rgba("+t+", 0.45)"},filter:["==","collectionYear",e]}),r.addLayer({id:"invasion-layer1-"+e,type:"circle",source:"invasion",paint:{"circle-radius":s,"circle-color":"rgba("+t+", 0.8)"},filter:["==","collectionYear",e]}),o(0),r.setLayoutProperty("invasion-layer1-"+e,"visibility","none"),r.setLayoutProperty("invasion-layer-"+e,"visibility","none")}function f(e){r.setLayoutProperty("invasion-layer1-"+e,"visibility","visible"),r.setLayoutProperty("invasion-layer-"+e,"visibility","visible")}function m(e,t){for(var i=e;i<=t;i++)r.setLayoutProperty("invasion-layer1-"+i,"visibility","none"),r.setLayoutProperty("invasion-layer-"+i,"visibility","none")}function T(e,t,i,o,n){r.flyTo({center:[e,t],zoom:i,pitch:o,bearing:n})}r.addSource("waters",{type:"geojson",data:o}),r.addSource("species",{type:"geojson",data:a}),r.addSource("extent",{type:"geojson",data:n}),r.addSource("invasion",{type:"geojson",data:t}),index=0;var L=["A long time ago","1986-1992","1993-1998","1999-2016","1999-2016","1999-2016","1999-2016","1999-2016","1986-2016","1986-2016"];!function(){for(var e=1986;e<=2016;e++)c(e,"178,78,73",e)}(),i("extent","#b24e49"),i("waters","#b24e49"),i("species","#333333"),c(l,"178,78,73",2016);$(document).ready(function(){$("#fullpage").fullpage({anchors:["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eightteen","nineteen"],sectionsColor:["#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999","#999999"],navigation:!0,navigationPosition:"right",afterLoad:function(t,i){$(this);$(".chatter, .chartTitle").hide(),$(this).find(".chatter, .chartTitle").show(),e(i-1)}})}),$("#fullpage").show()});for(var c=["contours","museums"],l=0;l<c.length;l++){var f=c[l],m=document.createElement("a");m.href="#",m.className="active",m.textContent=f,m.onclick=function(e){var t=this.textContent;e.preventDefault(),e.stopPropagation(),"visible"===r.getLayoutProperty(t,"visibility")?(r.setLayoutProperty(t,"visibility","none"),this.className=""):(this.className="active",r.setLayoutProperty(t,"visibility","visible"))}}mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var T=new mapboxgl.Map({container:"mapLookup",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-96.95459,46.489884],zoom:5.4,minZoom:4});T.addControl(new mapboxgl.NavigationControl),T.scrollZoom.disable(),T.on("load",function(){function e(e){for(var t=0;t<s.length;t++)if(e==s[t].target)return T.flyTo({center:[s[t].longitude,s[t].latitude],zoom:12}),void i(s[t].longitude,s[t].latitude,"<div class='lakename'>"+e+"</div><div>Since: "+s[t].since+"</div/>")}function i(e,t,i){c.setLngLat([e,t]).setHTML(i).addTo(T)}function u(e,t,i){function o(t){setTimeout(function(){requestAnimationFrame(o),r+=(c-r)/n,u-=.9/n,u>=0&&(T.setPaintProperty("invasion-layer-"+e,"circle-radius",r),T.setPaintProperty("invasion-layer-"+e,"circle-opacity",u)),u<=0&&(r=s,u=a)},2e3/n)}cap=e;var n=15,a=1,u=a,s=5,r=s,c=18;T.addLayer({id:"invasion-layer-"+e,type:"circle",source:"invasion",paint:{"circle-radius":s,"circle-radius-transition":{duration:0},"circle-opacity-transition":{duration:0},"circle-color":"rgba("+t+", 0.45)"},filter:["==","collectionYear",e]}),T.addLayer({id:"invasion-layer1-"+e,type:"circle",source:"invasion",paint:{"circle-radius":s,"circle-color":"rgba("+t+", 0.8)"},filter:["==","collectionYear",e]}),o(0),T.setLayoutProperty("invasion-layer1-"+e,"visibility","none"),T.setLayoutProperty("invasion-layer-"+e,"visibility","none")}function r(){$(window).width()<=500?T.flyTo({center:[-94,46],zoom:4.5}):T.flyTo({center:[-96.95459,46.489884],zoom:5.4}),$(window).resize(function(){$(window).width()<=500?T.flyTo({center:[-94,46],zoom:4.5}):T.flyTo({center:[-96.95459,46.489884],zoom:5.4})}),c.remove()}T.addSource("waters",{type:"geojson",data:o}),T.addSource("species",{type:"geojson",data:a}),T.addSource("extent",{type:"geojson",data:n}),T.addSource("invasion",{type:"geojson",data:t});var c=new mapboxgl.Popup({closeOnClick:!1});$(function(){$("#filter_box").on("keyup search",function(e){$(".row").hide();var t=$("#filter_box").val();console.log(t),$(".row").each(function(){-1!=$(this).text().toUpperCase().indexOf(t.toUpperCase())&&$(this).show()}),c.remove(),r()});var t=["Zumbro River","Zumbro Lake","White Bear Lake","West Battle Lake","Watab Lake","Vadnais Lake","Upper Prior Lake","Upper Mississippi River National Wildlife and Fish Refuge","Taylor Lake","Sybill Lake","Sucker Lake","Sturgeon Lake","St. Louis River","St. Croix River","Signalness Lake","Sand Lake","Sallie Lake","Ruth Lake","Rusch Lake","Round Lake","Rose Lake","Rice Lake","Red River","Rebecca","Prairie Lake","Pocket Lake","Pleasant Lake","Pine River","Pike Lake","Pickerel Lake","Pelican Lake","Pelican Brook","Paul Lake","Otter Tail River","Otter Tail Lake","Ossawinnamakee Lake","North Union","North Long Lake","Mississippi River","Minnehaha Creek","Mille Lacs Lake","Maple Lake","Lower Prior Lake","Lower Hay Lake","Lower Cullen Lake","Little Sand Lake","Little McDonald Lake","Leech Lake","Lake Winnibigoshish","Lake Waconia","Lake Virginia","Lake Victoria","Lake Sylvia","Lake Superior","Lake Stony","Lake Stella","Lake Osakis","Lake Minnewaska","Lake Minnewashta","Lake Minnetonka","Lake Miltona","Lake Melissa","Lake Maud","Lake Mary","Lake Lizzie","Lake Le Homme Dieu in Alexandria","Lake John","Lake Irene","Lake Ida","Lake Hubert","Lake Hiawatha","Lake Geneva","Lake Franklin","Lake Florida","Lake Eunice","Lake Darling","Lake Cowdrey","Lake Carlos","Lake Brophy","Lake Andrew","Lake Adley","Lac Qui Parle","Kimble Lake","Kerbs Lake","Gull Lake","Green Lake","Gilbert Pit Lake","Gilbert Lake","Forest Lake","Fish Trap Lake","East Spirit Lake","Detroit Lake","Cuyuna Country State Recreation Area","Cross Lake","Crooked Lake","Clearwater Lake","Christmas Lake","Charley Lake","Cass Lake","Bryant Lake","Big Cormorant Lake","Big Birch Lake"];$("#filter_box").autocomplete({minLength:2,source:t,select:function(t,i){t.preventDefault(),$(this).val(i.item.label),e(i.item.value)}})}),function(e,t){T.addLayer({id:e+"-layer",interactive:!0,source:e,layout:{},type:"fill",paint:{"fill-antialias":!0,"fill-opacity":1,"fill-color":t,"fill-outline-color":"#333333"}},"place-neighbourhood")}("waters","#b24e49"),function(){for(var e=1986;e<=2016;e++)u(e,"178,78,73",e)}(),r()})})})})})})})},{}]},{},[1]);