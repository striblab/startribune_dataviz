!function o(e,n,t){function i(a,l){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!l&&c)return c(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(o){var n=e[a][1][o];return i(n||o)},u,u.exports,o,e,n,t)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<t.length;a++)i(t[a]);return i}({1:[function(o,e,n){$.urlParam=function(o){var e=new RegExp("[?&]"+o+"=([^&#]*)").exec(window.location.href);return null!=e?e[1]||0:null};var t=$.urlParam("chart");null!=t&&($(".slide").hide(),$("#"+t).show()),d3.json("./shapefiles/waters.json",function(o,e){d3.json("./data/lookup.json",function(o,n){var t=n.targets;mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var i=new mapboxgl.Map({container:"mapLookup",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-96.95459,46.489884],zoom:5.4,minZoom:4});i.addControl(new mapboxgl.NavigationControl),i.scrollZoom.disable(),i.on("load",function(){function o(o){for(var e=0;e<t.length;e++)if(o==t[e].target)return i.flyTo({center:[t[e].longitude,t[e].latitude],zoom:12}),void n(t[e].longitude,t[e].latitude,"<div class='lakename'>"+o+"</div><div>Since: "+t[e].since+"</div/>")}function n(o,e,n){a.setLngLat([o,e]).setHTML(n).addTo(i)}function r(){$(window).width()<=500?i.flyTo({center:[-94,46],zoom:4.5}):i.flyTo({center:[-96.95459,46.489884],zoom:5.4}),$(window).resize(function(){$(window).width()<=500?i.flyTo({center:[-94,46],zoom:4.5}):i.flyTo({center:[-96.95459,46.489884],zoom:5.4})}),a.remove()}i.addSource("waters",{type:"geojson",data:e});var a=new mapboxgl.Popup({closeOnClick:!1});$(function(){$("#filter_box").on("keyup search",function(o){$(".lakeselect").hide();var e=$("#filter_box").val();$(".lakeselect").each(function(){-1!=$(this).text().toUpperCase().indexOf(e.toUpperCase())&&$(this).show()}),a.remove(),r()})}),$(".lakeselect").on("click",function(){o($(this).text())}),function(o,e){i.addLayer({id:o+"-layer",interactive:!0,source:o,layout:{},type:"fill",paint:{"fill-antialias":!0,"fill-opacity":1,"fill-color":e,"fill-outline-color":"#333333"}},"place-neighbourhood")}("waters","#b24e49"),r()})})})},{}]},{},[1]);