!function o(t,e,i){function l(a,s){if(!e[a]){if(!t[a]){var y="function"==typeof require&&require;if(!s&&y)return y(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var n=e[a]={exports:{}};t[a][0].call(n.exports,function(o){var e=t[a][1][o];return l(e||o)},n,n.exports,o,t,e,i)}return e[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)l(i[a]);return l}({1:[function(o,t,e){$.urlParam=function(o){var t=new RegExp("[?&]"+o+"=([^&#]*)").exec(window.location.href);return null!=t?t[1]||0:null};var i=$.urlParam("chart");null!=i&&($(".dataviz").hide(),$("#"+i).show()),d3.json("./shapefiles/blocks.json",function(o,t){d3.json("./shapefiles/noise.geojson",function(o,e){d3.json("./shapefiles/blocks_ext.json",function(o,i){d3.json("./shapefiles/contour2011.json",function(o,l){d3.json("./shapefiles/contour2012.json",function(o,r){d3.json("./shapefiles/contour2013.json",function(o,a){d3.json("./shapefiles/contour2014.json",function(o,s){d3.json("./shapefiles/contour2015.json",function(o,y){mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var n=new mapboxgl.Map({container:"map",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-93.216667,44.860278],zoom:10,minZoom:2});n.addControl(new MapboxGeocoder({accessToken:mapboxgl.accessToken})),n.addControl(new mapboxgl.NavigationControl),n.scrollZoom.disable(),n.on("load",function(){$(".mapboxgl-ctrl-geocoder input").attr("placeholder","Search by city or address"),$(".zoom").click(function(){n.flyTo({center:[-93.216667,44.860278],zoom:10})}),n.addSource("spots",{type:"geojson",data:e}),n.addLayer({id:"spots-layer",type:"circle",source:"spots",paint:{"circle-color":{property:"time_over65",stops:[[-5e5,"#2c7bb6"],[-1,"#abd9e9"],[1,"#fdae61"],[5e4,"#d7191c"]]},"circle-radius":{property:"noise",stops:[[0,3],[1e5,5],[3e5,7],[5e5,9],[1e6,11]]}}})});var c=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});n.on("mousemove",function(o){var t=n.queryRenderedFeatures(o.point,{layers:["spots-layer"]});if(n.getCanvas().style.cursor=t.length?"default":"",!t.length)return void c.remove();var e=t[0];c.setLngLat(o.lngLat).setHTML("<div>"+e.properties.city+"</div><div>"+e.properties.address+"</div><div>"+d3.format(",+")(e.properties.noise)+" milliseconds</div>").addTo(n)}),mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var b=new mapboxgl.Map({container:"map_blocks",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-93.28362465,44.89747103],zoom:12.4,minZoom:2});b.addControl(new MapboxGeocoder({accessToken:mapboxgl.accessToken})),b.addControl(new mapboxgl.NavigationControl),b.scrollZoom.disable(),b.on("load",function(){function o(o,t){$(".trackDot").removeClass("current"),$("#d"+o).addClass("current"),$("#year").html($("#d"+o).attr("year")),$(".chatter").show(),0==o&&($("#thisYear").html("2011"),b.setLayoutProperty("blocks-layer2010","visibility","none"),b.setLayoutProperty("blocks-layer2011","visibility","visible"),b.setLayoutProperty("blocks-layer2012","visibility","none"),b.setLayoutProperty("blocks-layer2013","visibility","none"),b.setLayoutProperty("blocks-layer2014","visibility","none"),b.setLayoutProperty("blocks-layer2015","visibility","none"),b.setLayoutProperty("blocks-layer-ext2010","visibility","none"),b.setLayoutProperty("blocks-layer-ext2011","visibility","visible"),b.setLayoutProperty("blocks-layer-ext2012","visibility","none"),b.setLayoutProperty("blocks-layer-ext2013","visibility","none"),b.setLayoutProperty("blocks-layer-ext2014","visibility","none"),b.setLayoutProperty("blocks-layer-ext2015","visibility","none"),b.setLayoutProperty("contour-layer2011","visibility","visible"),b.setLayoutProperty("contour-layer2012","visibility","none"),b.setLayoutProperty("contour-layer2013","visibility","none"),b.setLayoutProperty("contour-layer2014","visibility","none"),b.setLayoutProperty("contour-layer2015","visibility","none")),1==o?($("#thisYear").html("2012"),b.setLayoutProperty("blocks-layer2010","visibility","none"),b.setLayoutProperty("blocks-layer2011","visibility","none"),b.setLayoutProperty("blocks-layer2012","visibility","visible"),b.setLayoutProperty("blocks-layer2013","visibility","none"),b.setLayoutProperty("blocks-layer2014","visibility","none"),b.setLayoutProperty("blocks-layer2015","visibility","none"),b.setLayoutProperty("blocks-layer-ext2010","visibility","none"),b.setLayoutProperty("blocks-layer-ext2011","visibility","none"),b.setLayoutProperty("blocks-layer-ext2012","visibility","visible"),b.setLayoutProperty("blocks-layer-ext2013","visibility","none"),b.setLayoutProperty("blocks-layer-ext2014","visibility","none"),b.setLayoutProperty("blocks-layer-ext2015","visibility","none"),b.setLayoutProperty("contour-layer2011","visibility","none"),b.setLayoutProperty("contour-layer2012","visibility","visible"),b.setLayoutProperty("contour-layer2013","visibility","none"),b.setLayoutProperty("contour-layer2014","visibility","none"),b.setLayoutProperty("contour-layer2015","visibility","none")):2==o?($("#thisYear").html("2013"),b.setLayoutProperty("blocks-layer2010","visibility","none"),b.setLayoutProperty("blocks-layer2011","visibility","none"),b.setLayoutProperty("blocks-layer2012","visibility","none"),b.setLayoutProperty("blocks-layer2013","visibility","visible"),b.setLayoutProperty("blocks-layer2014","visibility","none"),b.setLayoutProperty("blocks-layer2015","visibility","none"),b.setLayoutProperty("blocks-layer-ext2010","visibility","none"),b.setLayoutProperty("blocks-layer-ext2011","visibility","none"),b.setLayoutProperty("blocks-layer-ext2012","visibility","none"),b.setLayoutProperty("blocks-layer-ext2013","visibility","visible"),b.setLayoutProperty("blocks-layer-ext2014","visibility","none"),b.setLayoutProperty("blocks-layer-ext2015","visibility","none"),b.setLayoutProperty("contour-layer2015","visibility","visible"),b.setLayoutProperty("contour-layer2011","visibility","none"),b.setLayoutProperty("contour-layer2012","visibility","none"),b.setLayoutProperty("contour-layer2013","visibility","visible"),b.setLayoutProperty("contour-layer2014","visibility","none"),b.setLayoutProperty("contour-layer2015","visibility","none")):3==o?($("#thisYear").html("2014"),b.setLayoutProperty("blocks-layer2010","visibility","none"),b.setLayoutProperty("blocks-layer2011","visibility","none"),b.setLayoutProperty("blocks-layer2012","visibility","none"),b.setLayoutProperty("blocks-layer2013","visibility","none"),b.setLayoutProperty("blocks-layer2014","visibility","visible"),b.setLayoutProperty("blocks-layer2015","visibility","none"),b.setLayoutProperty("blocks-layer-ext2010","visibility","none"),b.setLayoutProperty("blocks-layer-ext2011","visibility","none"),b.setLayoutProperty("blocks-layer-ext2012","visibility","none"),b.setLayoutProperty("blocks-layer-ext2013","visibility","none"),b.setLayoutProperty("blocks-layer-ext2014","visibility","visible"),b.setLayoutProperty("blocks-layer-ext2015","visibility","none"),b.setLayoutProperty("contour-layer2015","visibility","visible"),b.setLayoutProperty("contour-layer2011","visibility","none"),b.setLayoutProperty("contour-layer2012","visibility","none"),b.setLayoutProperty("contour-layer2013","visibility","none"),b.setLayoutProperty("contour-layer2014","visibility","visible"),b.setLayoutProperty("contour-layer2015","visibility","none")):4==o&&($("#thisYear").html("2015"),b.setLayoutProperty("blocks-layer2010","visibility","none"),b.setLayoutProperty("blocks-layer2011","visibility","none"),b.setLayoutProperty("blocks-layer2012","visibility","none"),b.setLayoutProperty("blocks-layer2013","visibility","none"),b.setLayoutProperty("blocks-layer2014","visibility","none"),b.setLayoutProperty("blocks-layer2015","visibility","visible"),b.setLayoutProperty("blocks-layer-ext2010","visibility","none"),b.setLayoutProperty("blocks-layer-ext2011","visibility","none"),b.setLayoutProperty("blocks-layer-ext2012","visibility","none"),b.setLayoutProperty("blocks-layer-ext2013","visibility","none"),b.setLayoutProperty("blocks-layer-ext2014","visibility","none"),b.setLayoutProperty("blocks-layer-ext2015","visibility","visible"),b.setLayoutProperty("contour-layer2015","visibility","visible"),b.setLayoutProperty("contour-layer2011","visibility","none"),b.setLayoutProperty("contour-layer2012","visibility","none"),b.setLayoutProperty("contour-layer2013","visibility","none"),b.setLayoutProperty("contour-layer2014","visibility","none"),b.setLayoutProperty("contour-layer2015","visibility","visible"))}function e(t,e){c[t]=window.setTimeout(function(){o(t)},e)}function n(){for(var o=0;o<6;o++)clearTimeout(c[o])}$(".mapboxgl-ctrl-geocoder input").attr("placeholder","Search by city or address"),b.addSource("blocks",{type:"geojson",data:t}),b.addSource("blocks_ext",{type:"geojson",data:i}),b.addSource("contours2011",{type:"geojson",data:l}),b.addSource("contours2012",{type:"geojson",data:r}),b.addSource("contours2013",{type:"geojson",data:a}),b.addSource("contours2014",{type:"geojson",data:s}),b.addSource("contours2015",{type:"geojson",data:y}),b.addLayer({id:"blocks-layer2010",type:"fill",source:"blocks",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2010",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"blocks-layer-ext2010",type:"fill",source:"blocks_ext",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2010",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"blocks-layer2011",type:"fill",source:"blocks",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2011",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"blocks-layer-ext2011",type:"fill",source:"blocks_ext",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2011",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"contour-layer2011",type:"fill",source:"contours2011",paint:{"fill-antialias":!0,"fill-color":"rgba(0, 0, 0, 0)","fill-outline-color":"#000000"}}),b.addLayer({id:"blocks-layer2012",type:"fill",source:"blocks",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2012",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"blocks-layer-ext2012",type:"fill",source:"blocks_ext",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2012",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"contour-layer2012",type:"fill",source:"contours2012",paint:{"fill-antialias":!0,"fill-color":"rgba(0, 0, 0, 0)","fill-outline-color":"#000000"}}),b.addLayer({id:"blocks-layer2013",type:"fill",source:"blocks",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2013",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"blocks-layer-ext2013",type:"fill",source:"blocks_ext",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2013",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"contour-layer2013",type:"fill",source:"contours2013",paint:{"fill-antialias":!0,"fill-color":"rgba(0, 0, 0, 0)","fill-outline-color":"#000000"}}),b.addLayer({id:"blocks-layer2014",type:"fill",source:"blocks",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2014",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"blocks-layer-ext2014",type:"fill",source:"blocks_ext",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2014",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"contour-layer2014",type:"fill",source:"contours2014",paint:{"fill-antialias":!0,"fill-color":"rgba(0, 0, 0, 0)","fill-outline-color":"#000000"}}),b.addLayer({id:"blocks-layer2015",type:"fill",source:"blocks",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2015",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"blocks-layer-ext2015",type:"fill",source:"blocks_ext",paint:{"fill-antialias":!0,"fill-opacity":.7,"fill-outline-color":"rgba(51, 51, 51, 1)","fill-color":{property:"A2015",stops:[[0,"#2c7bb6"],[50,"#abd9e9"],[55,"#ffffbf"],[65,"#d7191c"]]}}}),b.addLayer({id:"contour-layer2015",type:"fill",source:"contours2015",paint:{"fill-antialias":!0,"fill-color":"rgba(0, 0, 0, 0)","fill-outline-color":"#000000"}});var c=[];o(0),$(".trackDot").click(function(){$("#toggle").attr("class","play myButton2"),$("#toggle").html("&#9658;"),$(".trackDot").removeClass("current"),$(this).addClass("current"),n(),p=Number($(this).attr("index")),o(Number($(this).attr("index")))}),$(window).width()<=500?b.flyTo({center:[-93.208694,44.883485],zoom:10.6}):b.flyTo({center:[-93.28362465,44.89747103],zoom:12.4}),$(window).resize(function(){$(window).width()<=500?b.flyTo({center:[-93.208694,44.883485],zoom:10.6}):b.flyTo({center:[-93.28362465,44.89747103],zoom:12.4})}),$(".zoom").click(function(){b.flyTo({center:[-93.28362465,44.89747103],zoom:12.4})});var p=0;$(document).ready(function(){$("#toggle").bind("click",function(){if("play myButton2"==$(this).attr("class")){$(this).attr("class","pause myButton2"),$(this).html("&#9724;");for(var o=0;o<6;o++)e(o,500*o),p<5?p++:(o=0,p=0)}else $(this).attr("class","play myButton2"),$(this).html("&#9658;"),n()})}),$(".previous").click(function(){p>0&&(p--,n(),o(p))}),$(".next").click(function(){p<4&&(n(),p++,o(p))})}),mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var p=new mapboxgl.Map({container:"map_noise",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-93.28362465,44.89747103],zoom:12.4,minZoom:2});p.addControl(new MapboxGeocoder({accessToken:mapboxgl.accessToken})),p.addControl(new mapboxgl.NavigationControl),p.scrollZoom.disable(),p.on("load",function(){$(".mapboxgl-ctrl-geocoder input").attr("placeholder","Search by city or address")})})})})})})})})})},{}]},{},[1]);