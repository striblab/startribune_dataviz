!function t(e,o,i){function a(r,s){if(!o[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+r+"'")}var l=o[r]={exports:{}};e[r][0].call(l.exports,function(t){var o=e[r][1][t];return a(o||t)},l,l.exports,t,e,o,i)}return o[r].exports}for(var n="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,e,o){function i(t){this.dd=t,this.placeholder=this.dd.children("span"),this.opts=this.dd.find("ul.dropdown > li"),this.val="",this.index=-1,this.initEvents()}d3.json("./shapefiles/minneapolis_shape.json",function(t,e){d3.json("./shapefiles/st_nb_disparities.json",function(t,e){d3.json("./shapefiles/stops_grid.json",function(t,o){mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var i=new mapboxgl.Map({container:"map",style:"mapbox://styles/shadowflare/cilea5110001ra8ktm7409xze",center:[-93.093611,44.944167],zoom:10,minZoom:2});i.on("load",function(){function t(t){console.log(t),0==t&&($(".slide").hide(),$("#mapbox").show(),i.flyTo({center:[-93.093611,44.944167],zoom:10}),$("#chatter").html("Many St. Paul neighborhoods saw a higher percentage of black drivers pulled over compared to their percentage of the population.")),1==t&&($(".slide").hide(),$("#population").show(),$("#chatter").html("Traffic stops between 2001 and 2016 by race of driver, compared to that racial groupâ€™s share of the city population.")),2==t&&($(".slide").hide(),$("#time").show(),$("#chatter").html("While white drivers are more likely to be stopped by police during the day, minorities are more likely pulled over at night.")),3==t&&($(".slide").hide(),$("#trend").show(),$("#chatter").html("Whites were less likely than drivers of other races to get a citation during a traffic stop.")),4==t&&($(".slide").hide(),$("#search").show(),$("#chatter").html("Black drivers were more likely than those of other races to be frisked or have their vehicles searched.")),5==t&&($(".slide").hide(),$("#gender").show(),$("#chatter").html("The percentage of stops where the driver was a black male was significantly higher than their share of the city population."))}i.scrollZoom.disable(),$.urlParam=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null!=e?e[1]||0:null};var o=$.urlParam("chart");null!=o?($(".slide, #cssmenu, #viewSwitch").hide(),$("#"+o).show(),$("#wrapper, #content").css("width","100%"),$("#wrapper").css("opacity","1"),t($("#"+o).attr("data"))):($(".slide").hide(),$("#mapbox").show(),$("#wrapper").css("opacity","1")),i.addSource("stpnb",{type:"geojson",data:e}),i.addLayer({id:"shape-layer",interactive:!0,type:"fill",source:"stpnb",paint:{"fill-antialias":!0,"fill-opacity":.5,"fill-color":{property:"disparity",stops:[[0,"#CCCCCC"],[5,"#969696"],[8,"#636363"],[10,"#252525"],[12,"#000000"]]},"fill-outline-color":"rgba(51, 51, 51, 1)"}});var a=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1});i.on("mousemove",function(t){var e=i.queryRenderedFeatures(t.point,{layers:["shape-layer"]});if(i.getCanvas().style.cursor=e.length?"pointer":"",!e.length)return void a.remove();var o=e[0];a.setLngLat(t.lngLat).setHTML("<div class='tips'>"+o.properties.NAME+"</div><div class='tips'>"+o.properties.disparity+"% disparity</div><div class='tips'>"+d3.format("%")(o.properties.PctBlkStop)+" of stopped drivers were black</div><div class='tips'>"+d3.format("%")(o.properties.BlackPop)+" black population</div>").addTo(i)}),$(".menuSwitch").click(function(){$(".menuSwitch").removeClass("selectThis"),$(this).addClass("selectThis"),t($(this).attr("data"))}),$(".zoom").click(function(){i.flyTo({center:[-93.093611,44.944167],zoom:10})})})})})}),function(){var t={top:20,right:60,bottom:20,left:60},e=c3.generate({bindto:"#population",padding:t,data:{columns:[["Population",.59,.13,.15,.08],["Stops",.36,.27,.08,.07]],type:"bar"},color:{pattern:["#636363","#7F98AA"]},axis:{y:{max:1,min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format("%")}},x:{type:"category",categories:["White","Black","Asian","Hispanic"]}}});$(".menuSwitch").click(function(t){e.show()})}(),function(){var t={top:20,right:60,bottom:20,left:60},e=c3.generate({bindto:"#time",padding:t,data:{columns:[["White",.33,.25,.2,.33,.22],["Black",.15,.16,.18,.36,.3],["Asian",.2,.18,.19,.35,.27],["Native",.12,.14,.19,.39,.28],["Hispanic",.18,.19,.21,.35,.26]],type:"bar"},color:{pattern:["#636363","#299E3D","#3580A3","#7F98AA","#C22A22"]},axis:{y:{max:.4,min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format("%")}},x:{type:"category",categories:["Morning","Aftnoon","Evening","Early Night","Overnite"]}}});$(".menuSwitch").click(function(t){e.show()})}(),function(){var t={top:20,right:60,bottom:20,left:60},e=c3.generate({bindto:"#trend",padding:t,data:{columns:[["Cited",.09,.18,.13,.18,.15]],type:"bar"},color:{pattern:["#636363","#7F98AA","#556E7F"]},axis:{y:{max:1,min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format("%")}},x:{type:"category",categories:["White","Black","Asian","Native","Hispanic"]}}});$(".menuSwitch").click(function(t){e.show()})}(),function(){var t={top:20,right:60,bottom:20,left:60},e=c3.generate({bindto:"#search",padding:t,data:{columns:[["Searched",.32,.49,.07,.11],["Frisked",.33,.48,.07,.11]],type:"bar"},color:{pattern:["#7F98AA","#556E7F"]},axis:{y:{max:1,min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format("%")}},x:{type:"category",categories:["White","Black","Asian","Hispanic"]}}});$(".menuSwitch").click(function(t){e.show()})}(),function(){var t={top:20,right:60,bottom:20,left:60},e=c3.generate({bindto:"#gender",padding:t,data:{columns:[["Population",.28,.31,.07,.07],["Stops",.23,.13,.19,.07]],type:"bar"},color:{pattern:["#636363","#7F98AA"]},axis:{y:{max:1,min:0,padding:{bottom:0,top:0},tick:{count:4,format:d3.format("%")}},x:{type:"category",categories:["White Males","White Females","Black Males","Black Females"]}}});$(".menuSwitch").click(function(t){e.show()})}(),i.prototype={initEvents:function(){var t=this;t.dd.on("click",function(t){return $(this).toggleClass("active"),!1}),t.opts.on("click",function(){var e=$(this);t.val=e.text(),t.index=e.index(),t.placeholder.text(t.val)})},getValue:function(){return this.val},getIndex:function(){return this.index}},$(function(){new i($("#dd")),new i($("#ddY"));$(document).click(function(){$(".wrapper-dropdown-1").removeClass("active")})})},{}]},{},[1]);