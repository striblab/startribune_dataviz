!function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var d="function"==typeof require&&require;if(!s&&d)return d(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=r[o]={exports:{}};t[o][0].call(c.exports,function(e){var r=t[o][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){function n(e){var t=m.nodes(c).reverse(),r=m.links(t);t.forEach(function(e){e.y=180*e.depth});var n=y.selectAll("g.node").data(t,function(e){return e.id||(e.id=++u)}),s=n.enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+e.x0+","+e.y0+")"}).on("click",i).on("mouseover",a).on("mouseout",o);s.append("circle").attr("r",1e-6).style("fill",function(e){return e._children?"#73A073":"#fff"}),s.append("foreignObject").attr("width",200).attr("height",200).attr("height",200).attr("x",0).attr("y",85).attr("transform",function(e){return"translate(-45, 0)"}).append("xhtml:body").attr("class","selected2").attr("text-anchor",function(e){return e.children||e._children?"end":"start"}).html(function(e){return"<center>"+e.name+"</center>"});var d=n.transition().duration(p).attr("transform",function(e){return"translate("+e.x+","+e.y+")"});d.select("circle").attr("r",function(e){return e.size-5}).style("fill",function(e){return e._children?"#73A073":"#fff"}),d.select("text").style("fill-opacity",1);var l=n.exit().transition().duration(p).attr("transform",function(t){return"translate("+e.x+","+e.y+")"}).remove();l.select("circle").attr("r",1e-6),l.select("text").style("fill-opacity",1e-6),d3.select("selected").on("mouseover",a).on("mouseout",o);var f=y.selectAll("path.link").data(r,function(e){return e.target.id});f.enter().insert("path","g").attr("class","link").attr("d",function(t){var r={x:e.x0,y:e.y0};return v({source:r,target:r})}),f.transition().duration(p).attr("d",v),f.exit().transition().duration(p).attr("d",function(t){var r={x:e.x,y:e.y};return v({source:r,target:r})}).remove(),t.forEach(function(e){e.x0=e.x,e.y0=e.y})}function i(e){e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null),n(e)}function a(e){d3.select(this).append("text").attr("class","hover").attr("class","selected").attr("transform",function(e){return"translate(4, 15)"}),d3.select(this).append("foreignObject").attr("width",300).attr("height",300).append("xhtml:body").attr("class","selected3").attr("transform",function(e){return"translate(300, 300)"}).html("<h4>"+e.size+"%</h4>"+e.def)}function o(e){d3.select(this).select("text.hover").remove(),d3.select(this).select("text.selected").remove(),d3.select(this).select(".selected3").remove(),d3.select(this).select("text.selected2").attr("display","block")}function s(e){e.children&&(e._children=e.children,e._children.forEach(s),e.children=null)}var d=$("#target svg");$(window).on("resize",function(){var e=d.parent().width();d.attr("width",e),d.attr("height",e/(960/1300))});var c,l={top:100,right:200,bottom:0,left:0},f=1600-l.right-l.left,h=1400-l.top-l.bottom,u=0,p=750,m=d3.layout.tree().size([h,f]),v=d3.svg.diagonal().projection(function(e){return[e.x,e.y]}),y=d3.select("#target svg").append("g").attr("transform","translate("+l.left+","+l.top+")");y.append("line").attr("x1",800).attr("y1",1200).attr("x2",800).attr("y2",40).attr("stroke-width",1).attr("stroke","#ddd"),y.append("line").attr("x1",200).attr("y1",1200).attr("x2",200).attr("y2",40).attr("stroke-width",1).attr("stroke","#ddd"),y.append("line").attr("x1",800).attr("y1",40).attr("x2",700).attr("y2",20).attr("stroke-width",1).attr("stroke","#ddd"),y.append("line").attr("x1",200).attr("y1",40).attr("x2",270).attr("y2",20).attr("stroke-width",1).attr("stroke","#ddd");c={size:100,def:"A report is made to Child Protective Services, a county agency enforcing child welfare laws.",name:"  ",children:[{name:"Screened Out",size:71,def:"Child protection services are not offered."},{size:29,def:"Accepted to determine if a child is safe.",name:"Screened In",children:[{size:27,def:"An investigation to determine whether the child was abused and if so, by whom.",name:"  Investigation",children:[{name:"No Services ",size:48,def:"Child protection decides no services are needed to keep a child safe."},{name:"Services Needed",def:"Child Protection decides family requires services like parenting classes, therapy, or drug or alcohol treatment.",size:51,children:[{name:"  Juvenile Court        ",size:32,def:"County files a Child in Need of Protection or Services petition, which asks a juvenile court judge to take action to keep a child safe."}]}]},{size:71,def:"A determination of the child's safety, with a goal of engaging a family.",name:"  Family Assessment",children:[{name:"Juvenile Court ",size:7,def:"County files a Child in Need of Protection or Services petition, which asks a juvenile court judge to take action to keep a child safe."},{name:"No Services",size:71,def:"Child protection decides no services are needed to keep a child safe."},{name:"Investigation",size:6,def:"Child Protection decides the abuse warrants an investigation to determine whether the child was abused and if so, by whom."},{name:"Services Offered",size:13,def:"County offers services like parenting classes, therapy, or drug or alcohol treatment."},{name:"Services  Needed",size:15,def:"County says parents need to participate in services like parenting classes, therapy, or drug or alcohol treatment."}]}]}]},c.x0=h/2,c.y0=0,c.children.forEach(s),n(c),d3.select(self.frameElement).style("height","800px")},{}]},{},[1]);