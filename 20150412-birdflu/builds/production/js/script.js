!function e(t,n,r){function i(s,d){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!d&&a)return a(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){d3.json("./data/birdflu.json",function(e,t){function n(e){if(e&&i!==e){var t=c.centroid(e);t[0],t[1],4,i=e}else s/2,d/2,1,i=null;u.selectAll("path").classed("faded",!0).classed("active",i&&function(e){return e===i})}function r(e){if(e&&i!==e){var t=c.centroid(e);t[0],t[1],1,i=e}else s/2,d/2,1,i=null;u.selectAll("path").classed("faded",!1).classed("active",i&&function(e){return e===i})}var i,o=t.mn_counties,s=350,d=350,a=d3.geo.albersUsa().scale(5037).translate([50,970]),c=d3.geo.path().projection(a),l=d3.select("#map svg").attr("width",s).attr("height",d);l.append("rect").attr("class","background").attr("width",s).attr("height",d);var u=l.append("g"),f=document.getElementById("infobox");d3.json("shapefiles/counties.json",function(e,t){u.append("g").attr("id","states").selectAll("path").data(t.features).enter().append("path").attr("d",c).on("click",n).style("fill",function(e){for(var t=0;t<87;t++)if(e.properties.COUNTYNAME==o[t].county)return o[t].birds+o[t].chickens>5e5?"#163417":o[t].birds+o[t].chickens>3e5?"#204c21":o[t].birds+o[t].chickens>1e5?"#347c36":o[t].birds+o[t].chickens>5e4?"#49ab4b":o[t].birds+o[t].chickens>0?"#74C476":"#ddd"}).on("mousedown",function(e,t){for(var t=0;t<87;t++)e.properties.COUNTYNAME==o[t].county&&(o[t].birds+o[t].chickens>0?f.innerHTML="<div class='county_name'>"+e.properties.COUNTYNAME+" County</div><hr><div class='prevalence'>Total affected turkeys</div><div class='num'>"+d3.format(",")(o[t].birds)+" </div></div><hr><div class='prevalence'>Total affected chickens</div><div class='num'>"+d3.format(",")(o[t].chickens)+" </div></div><hr><div class='prevalence'>Affected sites</div><div class='num'>"+d3.format(",")(o[t].sites)+" </div></div>":f.innerHTML="<div class='county_name'>"+e.properties.COUNTYNAME+" County</div><hr><div class='prevalence'>No reported infections</div>")}).style("stroke-width","1.5px").style("stroke","#fff").call(d3.helper.tooltip(function(e,t){return"<b>"+e.properties.COUNTYNAME+" County</b>"})),u.append("path").attr("id","state-borders").attr("d",c)});d3.behavior.zoom().on("zoom",function(){u.attr("transform","translate("+d3.event.translate.join(",")+")scale("+d3.event.scale+")"),u.selectAll("circle").attr("d",c.projection(a)),u.selectAll("path").attr("d",c.projection(a))});$(".zoom").click(function(){r(),document.getElementById("infobox").innerHTML="<div class='turkey'><div class='bigNum'>8,871,432*</div><div>poultry birds have been affected by HPAI in Minnesota</div><p></p><div>Total number of farms affected: 108</div><p></p><div>Total number of counties: 23</div></div> "}),d3.helper={},d3.helper.tooltip=function(e){return function(t){var n,r=d3.select("body").node();t.on("mouseover",function(t,i){d3.select("body").selectAll("div.tooltip").remove(),n=d3.select("body").append("div").attr("class","tooltip");var o=d3.mouse(r);n.style("left",o[0]+10+"px").style("top",o[1]-15+"px").style("position","absolute").style("z-index",1001);e(t,i)}).on("mousemove",function(t,i){var o=d3.mouse(r);n.style("left",o[0]+10+"px").style("top",o[1]-15+"px");var s=e(t,i)||"";n.html(s)}).on("mouseout",function(e,t){n.remove()})}}})},{}]},{},[1]);