!function t(e,a,r){function n(i,s){if(!a[i]){if(!e[i]){var c="function"==typeof require&&require;if(!s&&c)return c(i,!0);if(o)return o(i,!0);throw new Error("Cannot find module '"+i+"'")}var d=a[i]={exports:{}};e[i][0].call(d.exports,function(t){var a=e[i][1][t];return n(a||t)},d,d.exports,t,e,a,r)}return a[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}({1:[function(t,e,a){d3.json("./data/deaths.json",function(t,e){d3.json("./data/deaths.geojson",function(t,a){var r=e.deaths,n=a;d3.select("#deaths").selectAll(".card").data(r).enter().append("div").attr("id",function(t){return t.record_number}).attr("class","card").attr("lat",function(t){return t.latitude}).attr("long",function(t){return t.longitude}).html(function(t){return"<div class='name'>"+t.victim+"</div><div class='date'>Killed on "+new Date(t.date).toDateString()+"</div><div class='age'>"+t.age+"-years-old</div><div class='city'>"+t.location+"</div><div class='city'>"+t.city+", MN</div><div class='speed'>Driver was going "+t.speed+"mph</div>"}),$(document).ready(function(){$("#filter_box").keyup(function(t){$(".card").hide();var e=$("#filter_box").val();$(".card").each(function(){$(this).text().toUpperCase().indexOf(e.toUpperCase())!=-1&&$(this).show()});var a=$(".card:visible").length;$("#results").html(a)})}),function(){$(".street").each(function(t,e){$(this).addClass("lightbox")}),$(".street").each(function(t,e){$(this).attr("data-featherlight",$(this).find("a").attr("href"))})}();var o=new mapboxgl.LngLat(-93.716125,44.643254),i=new mapboxgl.LngLat(-92.763062,45.350215),s=new mapboxgl.LngLatBounds(o,i);mapboxgl.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiS3pwY1JTMCJ9.pTSXx_LFgR3XBpCNNxWPKA";var c=new mapboxgl.Map({container:"map",style:"mapbox://styles/shadowflare/ciqzo0bu20004bknkbrhrm6wf",center:[-93.266667,44.983333],zoom:10.2,minZoom:10,maxBounds:s});$(".zoom").click(function(){c.flyTo({center:[-93.266667,44.983333],zoom:10})}),$(".card:first").addClass("thisOne"),$(".card").click(function(){$(".card").removeClass("thisOne"),$(this).addClass("thisOne"),c.flyTo({center:[$(this).attr("long"),$(this).attr("lat")],zoom:15}),panorama.setPosition(new google.maps.LatLng($(this).attr("lat"),$(this).attr("long")))}),$(".mapboxgl-ctrl-geocoder input").attr("placeholder","Search by address"),c.on("load",function(){c.addSource("crashes",{type:"geojson",data:n}),c.addLayer({id:"crashes-points",type:"circle",source:"crashes",paint:{"circle-color":"#AA3939","circle-radius":5}})})})})},{}]},{},[1]);