!function e(o,t,r){function s(a,i){if(!t[a]){if(!o[a]){var p="function"==typeof require&&require;if(!i&&p)return p(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=t[a]={exports:{}};o[a][0].call(c.exports,function(e){var t=o[a][1][e];return s(t||e)},c,c.exports,e,o,t,r)}return t[a].exports}for(var n="function"==typeof require&&require,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,o,t){d3.json("./data/enrollment.json",function(e,o){L.mapbox.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiODRHdjBSWSJ9.lF4ymp-69zdGvZ5X4Tokzg";var t=new L.LatLngBounds(new L.LatLng(39.1982,-128.1445),new L.LatLng(50.5414,-68.2031)),r=L.mapbox.map("map","mapbox.light",{maxZoom:17,minZoom:10,bounds:t}).setView([44.9813,-93.252],11).addControl(L.mapbox.geocoderControl("mapbox.places"));L.control.fullscreen().addTo(r);var s;$(document).ready(function(){$.getJSON("shapefiles/mpls.json",function(e){s=L.geoJson(e,{style:{fillColor:"#ddd",strokeColor:"#333",fillOpacity:1,opacity:1,weight:1,color:"#fff"},onEachFeature:null}),r.addLayer(s)})});var n=omnivore.csv("data/enroll_public.csv").on("ready",function(e){this.eachLayer(function(e){var o;e.toGeoJSON().properties.students>=400?o="#003a17":e.toGeoJSON().properties.students>=200?o="#006d2c":e.toGeoJSON().properties.students>=100?o="#31a354":e.toGeoJSON().properties.students>=50?o="#50b553":e.toGeoJSON().properties.students>=0&&(o="#98d399"),e.setIcon(L.mapbox.marker.icon({"marker-color":o,opacity:.5,"marker-size":"small"})),e.bindPopup("<strong>"+e.toGeoJSON().properties.school+"</strong><br />Public School<br /><br /><div class='stat'><div class='bigNum'>"+e.toGeoJSON().properties.students+"</div> students from Minneapolis</div>")})});r.addLayer(n);var a=omnivore.csv("data/enroll_charter.csv").on("ready",function(e){this.eachLayer(function(e){var o;e.toGeoJSON().properties.students>=400?o="#003a17":e.toGeoJSON().properties.students>=200?o="#006d2c":e.toGeoJSON().properties.students>=100?o="#31a354":e.toGeoJSON().properties.students>=50?o="#50b553":e.toGeoJSON().properties.students>=0&&(o="#98d399"),e.setIcon(L.mapbox.marker.icon({"marker-color":o,opacity:.5,"marker-size":"small"})),e.bindPopup("<strong>"+e.toGeoJSON().properties.school+"</strong><br />Charter School<br /><br /><div class='stat'><div class='bigNum'>"+e.toGeoJSON().properties.students+"</div> students from Minneapolis</div>")})});r.addLayer(a);var i=omnivore.csv("./data/enrollmentMPLS.csv").on("ready",function(e){this.eachLayer(function(e){var o;e.toGeoJSON().properties.students>=400?o="#003a17":e.toGeoJSON().properties.students>=200?o="#006d2c":e.toGeoJSON().properties.students>=100?o="#31a354":e.toGeoJSON().properties.students>=50?o="#50b553":e.toGeoJSON().properties.students>=0&&(o="#98d399"),e.setIcon(L.mapbox.marker.icon({"marker-color":o,"marker-fill-opacity":.5,"marker-size":"small"})),e.bindPopup("<strong>"+e.toGeoJSON().properties.school+"</strong><br />Public School<br /><br /><div class='stat'><div class='bigNum'>"+e.toGeoJSON().properties.students+"</div>s tudents from Minneapolis</div>")})});n.on("mouseover",function(e){e.layer.openPopup()}),n.on("mouseout",function(e){e.layer.closePopup()}),a.on("mouseover",function(e){e.layer.openPopup()}),a.on("mouseout",function(e){e.layer.closePopup()}),i.on("mouseover",function(e){e.layer.openPopup()}),i.on("mouseout",function(e){e.layer.closePopup()}),$("#publics input").on("change",function(){this.checked?(r.addLayer(n),$(this).parent().removeClass("selected")):(r.removeLayer(n),$(this).parent().addClass("selected"))}),$("#charters input").on("change",function(){this.checked?(r.addLayer(a),$(this).parent().removeClass("selected")):(r.removeLayer(a),$(this).parent().addClass("selected"))}),$("#mpls input").on("change",function(){this.checked?r.addLayer(i):r.removeLayer(i)})})},{}]},{},[1]);