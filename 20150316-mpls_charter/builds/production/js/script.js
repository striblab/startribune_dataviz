!function o(e,r,t){function n(i,a){if(!r[i]){if(!e[i]){var p="function"==typeof require&&require;if(!a&&p)return p(i,!0);if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=r[i]={exports:{}};e[i][0].call(c.exports,function(o){var r=e[i][1][o];return n(r||o)},c,c.exports,o,e,r,t)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<t.length;i++)n(t[i]);return n}({1:[function(o,e,r){d3.json("./data/enrollment.json",function(o,e){L.mapbox.accessToken="pk.eyJ1Ijoic2hhZG93ZmxhcmUiLCJhIjoiODRHdjBSWSJ9.lF4ymp-69zdGvZ5X4Tokzg";var r=new L.LatLngBounds(new L.LatLng(39.1982,-128.1445),new L.LatLng(50.5414,-68.2031)),t=L.mapbox.map("map","mapbox.light",{maxZoom:17,minZoom:10,bounds:r}).setView([44.9813,-93.252],11).addControl(L.mapbox.geocoderControl("mapbox.places"));L.control.fullscreen().addTo(t);var n;$(document).ready(function(){$.getJSON("shapefiles/mpls.json",function(o){n=L.geoJson(o,{style:{fillColor:"#ddd",strokeColor:"#333",fillOpacity:0,opacity:1,weight:1,color:"#fff"},onEachFeature:null}),t.addLayer(n)})});var s=omnivore.csv("data/enroll_public.csv").on("ready",function(o){this.eachLayer(function(o){var e;o.toGeoJSON().properties.students>=400?e="#003a17":o.toGeoJSON().properties.students>=200?e="#006d2c":o.toGeoJSON().properties.students>=100?e="#31a354":o.toGeoJSON().properties.students>=50?e="#50b553":o.toGeoJSON().properties.students>=0&&(e="#98d399"),o.setIcon(L.mapbox.marker.icon({"marker-color":e,opacity:.5,"marker-size":"small"})),o.bindPopup("<strong>"+o.toGeoJSON().properties.school+"</strong><br />Public School<br /><br /><div class='stat'><div class='bigNum'>"+o.toGeoJSON().properties.students+"</div>students from Minneapolis</div>")})});t.addLayer(s);var i=omnivore.csv("data/enroll_charter.csv").on("ready",function(o){this.eachLayer(function(o){var e;o.toGeoJSON().properties.students>=400?e="#003a17":o.toGeoJSON().properties.students>=200?e="#006d2c":o.toGeoJSON().properties.students>=100?e="#31a354":o.toGeoJSON().properties.students>=50?e="#50b553":o.toGeoJSON().properties.students>=0&&(e="#98d399"),o.setIcon(L.mapbox.marker.icon({"marker-color":e,opacity:.5,"marker-size":"small"})),o.bindPopup("<strong>"+o.toGeoJSON().properties.school+"</strong><br />Charter School<br /><br /><div class='stat'><div class='bigNum'>"+o.toGeoJSON().properties.students+"</div>students from Minneapolis</div>")})});t.addLayer(i);var a=omnivore.csv("https://docs.google.com/spreadsheets/d/18PDilsW9QF7KYr50TTwrqCgBBYmea4rfzqETLgnZ4U8/export?format=csv&id=18PDilsW9QF7KYr50TTwrqCgBBYmea4rfzqETLgnZ4U8&gid=1754775514").on("ready",function(o){this.eachLayer(function(o){var e;o.toGeoJSON().properties.students>=400?e="#003a17":o.toGeoJSON().properties.students>=200?e="#006d2c":o.toGeoJSON().properties.students>=100?e="#31a354":o.toGeoJSON().properties.students>=50?e="#50b553":o.toGeoJSON().properties.students>=0&&(e="#98d399"),o.setIcon(L.mapbox.marker.icon({"marker-color":e,"marker-fill-opacity":.5,"marker-size":"small"})),o.bindPopup("<strong>"+o.toGeoJSON().properties.school+"</strong><br />Public School<br /><br /><div class='stat'><div class='bigNum'>"+o.toGeoJSON().properties.students+"</div>students from Minneapolis</div>")})});s.on("mouseover",function(o){o.layer.openPopup()}),s.on("mouseout",function(o){o.layer.closePopup()}),i.on("mouseover",function(o){o.layer.openPopup()}),i.on("mouseout",function(o){o.layer.closePopup()}),a.on("mouseover",function(o){o.layer.openPopup()}),a.on("mouseout",function(o){o.layer.closePopup()}),$("#publics input").on("change",function(){this.checked?t.addLayer(s):t.removeLayer(s)}),$("#charters input").on("change",function(){this.checked?t.addLayer(i):t.removeLayer(i)}),$("#mpls input").on("change",function(){this.checked?t.addLayer(a):t.removeLayer(a)})})},{}]},{},[1]);